import{a as y,s as C,r as l,e as S,u as E,P as m,j as e,F as A,g as L,h as M,$ as B}from"./index-DEJYXl90.js";const O=()=>{const i=y(C),[c,h]=l.useState(!1),[r,f]=l.useState({email:"",password:""}),[n,w]=l.useState({}),[j,d]=l.useState(!1),g=S(),[v,u]=l.useState(!1),a=E(),x=s=>{const{name:o,value:t}=s.target;f(k=>({...k,[o]:t}))},N=()=>{const s={};return r.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(s.email="Некорректный формат email"):s.email="Email обязателен",r.password||(s.password="Пароль обязателен"),s},b=async({email:s,password:o})=>{try{return(await B.post("/auth/login",{email:s,password:o})).data}catch(t){throw console.error(t),t}},p=async s=>{s.preventDefault();const o=N();if(w(o),!(Object.keys(o).length>0)){d(!0);try{const t=await b(r);g(M(t)),a(m)}catch(t){console.error("Ошибка при входе:",t),u(!0)}finally{d(!1)}}};return l.useEffect(()=>{setTimeout(()=>u(!1),1e4)},[p]),l.useEffect(()=>{i&&a(m,{replace:!0})},[i]),e.jsx("form",{onSubmit:p,className:"w-full min-h-screen flex justify-center items-center",children:e.jsx("div",{className:"sm:w-[400px] w-full sm:p-0 p-5 h-[780px]",children:e.jsxs("div",{className:"w-full h-full flex flex-col justify-between gap-10",children:[e.jsxs("div",{className:"w-full flex flex-col gap-10 relative",children:[e.jsxs("div",{className:"md:hidden flex flex-row items-center justify-between w-full",children:[e.jsx("img",{src:"/photos/Auth/Back.svg",alt:"",className:"cursor-pointer",onClick:()=>{a(-1)}}),e.jsx("img",{src:"/photos/Auth/Star.svg",alt:""})]}),e.jsx("img",{className:"md:block hidden absolute -left-20 cursor-pointer",src:"/photos/Auth/Back.svg",alt:"",onClick:()=>{a(-1)}}),e.jsx("p",{className:"font-unbounded text-left md:uppercase font-medium text-[20px]",children:"войти"}),e.jsxs("div",{className:"w-full flex flex-col gap-2 h-full justify-center ",children:[e.jsxs("div",{className:"w-full flex flex-col gap-1 mt-20",children:[e.jsx("p",{className:"uppercase font-montserrat text-[12px] font-medium text-[#1B3C4D]",children:"email"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:x,className:"border-b px-3 py-2 rounded-2xl"}),n.email&&e.jsx("p",{className:"text-red-500 text-sm",children:n.email})]}),e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsx("p",{className:"uppercase font-montserrat text-[12px] font-medium text-[#1B3C4D]",children:"пароль"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",name:"password",value:r.password,onChange:x,className:"border-b px-3 py-2 rounded-2xl w-full pr-10"}),e.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",children:c?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a10.05 10.05 0 012.266-3.592m2.732-1.846A9.96 9.96 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.96 9.96 0 01-1.065 2.1M15 12a3 3 0 11-6 0 3 3 0 016 0zM3 3l18 18"})})})]}),n.password&&e.jsx("p",{className:"text-red-500 text-sm",children:n.password})]})]}),e.jsx("div",{className:"w-full flex flex-row justify-end gap-3",children:e.jsx("p",{className:"uppercase font-montserrat text-right font-thin cursor-pointer text-[14px]",onClick:()=>a(A),children:"забыли пароль?"})}),v&&e.jsx("div",{className:"w-full absolute lg:-bottom-20 -bottom-8",children:e.jsx("p",{className:"text-red-500 font-montserrat uppercase text-center whitespace-nowrap sm:text-[16px] text-[12px]",children:" неправильный логин или пароль"})})]}),e.jsxs("div",{className:"w-full flex flex-col gap-10",children:[e.jsx("button",{type:"submit",disabled:j,className:"w-full bg-[#1B3C4D] py-5 rounded-2xl disabled:opacity-50 mb-32",children:e.jsx("p",{className:"uppercase font-unbounded font-light text-white",children:"войти"})}),e.jsxs("div",{className:"text-center uppercase font-montserrat text-[#8296A6] text-[12px]",children:["ЕЩЕ НЕТ аккаунтА? ",e.jsx("span",{className:"cursor-pointer text-black",onClick:()=>a(L),children:" ЗАРЕГИСТРИРОВАТЬСЯ"})," "]}),e.jsx("div",{className:"w-full hidden justify-center sm:flex",children:e.jsx("img",{src:"/photos/Auth/Register/cross-svgrepo-com.svg",className:"w-8 cursor-pointer",alt:"",onClick:()=>{a("/")}})})]})]})})})};export{O as default};
